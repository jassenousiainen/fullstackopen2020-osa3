{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/personService.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","onChange","value","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Persons","props","filteredPersons","persons","filter","person","name","toLowerCase","includes","map","key","number","onClick","remove","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","notification","message","bgColor","backgroundColor","success","style","width","height","margin","padding","lineHeight","borderRadius","color","textAlign","fontSize","transition","transform","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","setNotification","useEffect","personService","returnedPersons","updatePerson","window","confirm","originalPerson","find","p","changedPerson","returnedPerson","disappearingNotification","catch","error","msg","sucs","setTimeout","event","target","preventDefault","concat","parseInt","n","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d4410908.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({newFilter, onChange}) => (\r\n  <>\r\n    filter shown with <input value={newFilter} onChange={onChange} />\r\n  </>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => (\r\n  <form onSubmit={addPerson}>\r\n    <div>\r\n      name: <input value={newName} onChange={handleNameChange} />\r\n    </div>\r\n    <div>\r\n      number: <input value={newNumber} onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = props => {\r\n  const filteredPersons = props.persons.filter(person =>\r\n    person.name.toLowerCase().includes(props.filter)\r\n  )\r\n  return (\r\n    <>\r\n      {filteredPersons.map(person => (\r\n        <p key={person.name}>\r\n          {person.name} {person.number}\r\n          <button onClick={props.remove} value={person.id}>\r\n            delete\r\n          </button>\r\n        </p>\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification.message === null) {\r\n    return null\r\n  }\r\n\r\n  const styling = {\r\n    width: \"600px\",\r\n    height: \"40px\",\r\n    margin: \"20px 0 20px 0\",\r\n    padding: \"0\",\r\n    lineHeight: \"40px\",\r\n    borderRadius: \"30px\",\r\n    color: \"white\",\r\n    textAlign: \"center\",\r\n    fontSize: \"17px\",\r\n    transition: \"transform 0.2s ease-in-out\",\r\n    transform: \"translateY(-4px)\"\r\n  }\r\n  \r\n  let bgColor = {backgroundColor: \"#00d774\"}\r\n  if (!notification.success) bgColor = {backgroundColor: \"#ff3355\"}\r\n\r\n  return (\r\n    <div style={{...styling, ...bgColor}}>\r\n      <p>{notification.message}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from \"./components/Persons\"\r\nimport personService from \"./services/personService\"\r\nimport Notification from \"./components/Notification\"\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  const [ notification, setNotification ] = useState({message: null, success: true})\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(returnedPersons => {\r\n        setPersons(returnedPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    if (persons.map(p => p.name).includes(newName)) {\r\n      updatePerson()\r\n      return\r\n    }\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        disappearingNotification(`Added ${returnedPerson.name}`, true)\r\n        setNewName(\"\")\r\n        setNewNumber(\"\")\r\n      })\r\n  }\r\n\r\n  const updatePerson = () => {\r\n    if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n      const originalPerson = persons.find(p => p.name === newName)\r\n      const changedPerson = { ...originalPerson, number: newNumber }\r\n      personService\r\n        .update(originalPerson.id, changedPerson)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.map(p => (p.id !== changedPerson.id ? p : returnedPerson)))\r\n          disappearingNotification(`Updated ${newName} from ${originalPerson.number} to ${changedPerson.number}`, true)\r\n        })\r\n        .catch(error => {\r\n          setPersons(persons.filter(p => p.id !== changedPerson.id))\r\n          disappearingNotification(`Information of '${newName}' has already been removed from server`, false)\r\n        })\r\n    }\r\n  }\r\n\r\n  const removePerson = event => {\r\n    event.preventDefault()\r\n    const id = parseInt(event.target.value)\r\n    const name = persons.find(n => n.id === id).name\r\n\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(() => {\r\n          setPersons(persons.filter(p => p.id !== id))\r\n          disappearingNotification(`Deleted ${name}`, true)\r\n        })\r\n    }\r\n  }\r\n\r\n  const disappearingNotification = (msg, sucs) => {\r\n    setNotification({message: msg, success: sucs})\r\n    setTimeout(() => {\r\n      setNotification({message: null, success: true})\r\n    }, 3000)\r\n  }\r\n\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n  const handleFilterChange = (event) => setNewFilter(event.target.value)\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notification={notification}/>\r\n      <Filter newFilter={newFilter} onChange={handleFilterChange} />\r\n      <h3>add a new</h3>\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} filter={newFilter} remove={removePerson} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}